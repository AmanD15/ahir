<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: AaLRM.tex
     using Hyperlatex v 2.9-in-waiting-rk (oct06) (c) Otfried Cheong
     on Emacs 22.2.1, Thu May 26 16:58:51 2011 -->
<head>
<title>Untitled -- Program structure</title>

<style type="text/css">
.maketitle { align : center }
div.abstract { margin-left: 20%; margin-right: 10%; }
h3.abstract  { align : center }
div.verse, div.quote, div.quotation {
  margin-left : 10%; 
  margin-right : 10%;
}
dt {font-weight: bold}
</style>
</head>
<body>
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="AaLRM_3.html"><img border="0" alt="Statements" src="file:/usr/share/hyperlatex/icons/next.png"/></a></td><td bgcolor="#99ccff"><a href="AaLRM.html"><img border="0" alt="Top" src="file:/usr/share/hyperlatex/icons/up.png"/></a></td><td bgcolor="#99ccff"><a href="AaLRM_1.html"><img border="0" alt="Introduction" src="file:/usr/share/hyperlatex/icons/previous.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>Program structure</b></td></tr></table>
<h1>Program structure</h1>
<p>A program in <b>Aa</b>&nbsp;consists of a sequence of
declarations and module definitions.  
</p>
<pre>
program := ( module-definition | program-object-declaration )*
</pre>
<p>Program object declarations
can belong to one of three classes:
</p>
<ul><li><b>Storage</b> objects declared in the program
are variables that can be written into from multiple
points in the program.  When declared at the program
scope, storage objects are visible throughout
the program.
</li><li><b>Pipe</b> objects declared at the program scope
are globally visible first-in-first-out buffers that can 
be read from anywhere in the program and can be
written into from anywhere in th program.  A pipe
is a single-place buffer.  A write to a pipe succeeds
only if the single place buffer is empty.  A read
from the pipe succeeds only if the single place
buffer is not empty (the read empties the buffer).
Thus, pipes can be used for synchronization in 
an <b>Aa</b>&nbsp;program.
<ul><li>A pipe that is only written into in the program, but
is not read from, is assumed to have a destination outside
the program.  Such a pipe is an output port of the
program.
</li><li>A pipe that is only read from in a program but not
written into, is assumed to have a source outside the program.
Such a pipe is an input port of the program.
</li></ul>
</li><li><b>Constant</b> objects declared at
the program scope are globally visible and have
initial values which can never be altered in the program.
Thus, an assignment to a constant is an error.
</li></ul> 
<p>A module in <b>Aa</b>&nbsp;is the basic unit of compilation, and
has the following structure
</p>
<pre>
$module [module-name] 
   $in(&lt;input-arguments&gt;)
   $out(&lt;output-arguments&gt;)
$is
{
   &lt;object-declarations&gt;
   &lt;sequence-of-statements&gt;
}
</pre>
<p>Thus, a module has a name, has input and output arguments,
declares objects and consists of a sequence of statements.
Objects (storage/pipe/constant) declared in the module are visible only in the
module body.   For example:
</p>
<pre>
$module [sum] 
   $in (a: $uint&lt;32&gt; b: $uint&lt;32&gt;) 
   $out (c : $uint&lt;32&gt;)
$is
{
   c := (a+b)
}
</pre>
<p>In this example, <em>sum</em> is 
a module which has two inputs and a single output.
The type of the inputs and the output is 
</p>
<pre>
$uint&lt;32&gt;
</pre>
<p>which is an unsigned 32-bit integer (More details
on types are given in Section <a href="AaLRM_7.html">*</a>).
</p>
<p>Each statement in the sequence
of statements can be abstractly 
viewed as a region
in a petri-net,  and has a 
set of input (or source) places  and a set of output
(or sink)  places.  
The execution of the statement is triggered when
there is a token present in every place in some specified subsets
of its source 
places and when the statement finishes execution,
a token is placed in some specified subset of its sink places.   
</p>
<p>The control flow in the sequence of statements
in a module is serial in nature.  Thus each
statement has a single source place and a single
sink place, with the sink place of a statement being 
the source place of its successor.
The module as a whole can be viewed as having
a single entry place and a single exit place.
When a token appears in the entry place, the first
statement can trigger, and when the last statement
has finished, a token is placed in the exit
place.  
</p>
<p>The region between &#123; and &#125; is termed a <b>scope</b>.  Thus, 
a module description defines a scope.  In this case, 
the scope has a label which is the same as the module name.
As we shall see later, the statements in the statement sequence
may in turn define scopes.  Each scope defines a name-space.  
The visibility
rules and access mechanisms between scopes will be described
in Section <a href="AaLRM_6.html">*</a>.
</p>
<hr />
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="AaLRM_3.html"><img border="0" alt="Statements" src="file:/usr/share/hyperlatex/icons/next.png"/></a></td><td bgcolor="#99ccff"><a href="AaLRM.html"><img border="0" alt="Top" src="file:/usr/share/hyperlatex/icons/up.png"/></a></td><td bgcolor="#99ccff"><a href="AaLRM_1.html"><img border="0" alt="Introduction" src="file:/usr/share/hyperlatex/icons/previous.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>Program structure</b></td></tr></table></body></html>
