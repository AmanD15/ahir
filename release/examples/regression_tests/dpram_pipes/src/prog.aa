$pipe in_data  : $uint<32> $depth 2
$pipe mid_pipe: $uint<32> $depth 16  $p2p // will use synch-fifo dpram
$pipe out_data : $uint<32> $depth 1  // slow it down on purpose so you exercise the deep fifo.

$module [shiftreg_check_daemon] $in() $out () $is
{


	$branchblock[lOoP] {
		$dopipeline $depth 16 $buffering 2 $fullrate

		     	$merge $entry $loopback $endmerge

			X := in_data
			mid_pipe := X
			Y := mid_pipe
			Y_d := Y $buffering 16
			out_data := Y_d

		$while 1
	}
}
