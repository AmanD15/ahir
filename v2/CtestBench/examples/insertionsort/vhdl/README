We have the following files present.
	system.vhdl  (generated as main_o_aa_vc.vhdl in the parent directory)
	vhdlCStubs.h
	vhdlCStubs.c

We have written testbench.c as a testbench.

You will have to rename main in 
vhdlCStubs to main_ (otherwise there will be
two main programs one in the testbench and
one in vhdlCStubs).

We will need to modify testbench.c a little..  The
following three lines will need to be added at the top.

#include <SocketLib.h>
#include <Vhpi.h>
#include <vhdlCStubs.h>


The first two are part of the AhirV2 distribution and
are responsible for connecting the software part of
the test setup to the VHDL simulator. The third was
generated by Aa2VC.

Now compile
gcc -c vhdlCStubs.c -I./ -I../../../include 
gcc -c testbench.c -I./ -I../../../include
gcc -o testbench testbench.o vhdlCStubs.o  -L../../../lib -lSocketLib -lpthread

OK.  you will now need to create a Modelsim project.
See the attached BasicCheck.mpf project file to see how.
(you will need to compile the file Vhpi_Package.vhdl to
get the Modelsim <-> C link configured).

Now start ./testbench in one shell (shell 1)
It will prompt you to enter some numbers.
Do so, and the program will try to connect to 
a socket on the localhost.

In a separate shell (shell 2), start the simulator and load
the top-level entity test_system_test_bench.
After it loads, run it for long enough so that
the program started in shell 1 completes.



